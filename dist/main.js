!function(e){var t={};function l(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(r,a,function(t){return e[t]}.bind(null,a));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";function r(e){var t="keydown"==event.type;e.preventDefault();for(let l=0;l<i;l++)e.keyCode==(0==l?65:37)&&(d.players[l].leftState=t),e.keyCode==(0==l?87:38)&&(d.players[l].upState=t),e.keyCode==(0==l?68:39)&&(d.players[l].rightState=t),e.keyCode==(0==l?83:40)&&(d.players[l].duckState=t),e.keyCode==(0==l?32:16)&&(d.players[l].shootState=t),!d.players[l].reloading&&d.players[l].shootState&&a(l)}function a(e){d.players[e].reloading||(!function(e){let t=g.bullets.length;for(let l=g.bullets.length;l<t+1;l++){let t,r;d.players[e].facingLeft||(t=h+Math.random(),r=40),d.players[e].facingLeft&&(t=-h+Math.random(),r=-20),g.bullets[l]={dx:t,dy:-h+Math.random(),x:d.players[e].x+r,y:d.players[e].y+15},console.log(g)}}(e),d.players[e].reloading=!0),d.players[e].reloading&&setTimeout(function(){d.players[e].reloading=!1},500)}l.r(t),l.d(t,"gameWindow",function(){return s}),l.d(t,"controlState",function(){return o}),l.d(t,"playerSize",function(){return n}),l.d(t,"duckHeight",function(){return y}),l.d(t,"playerNumber",function(){return i}),l.d(t,"windowHeight",function(){return p}),l.d(t,"windowWidth",function(){return u}),l.d(t,"groundHeight",function(){return c}),l.d(t,"bulletRadius",function(){return f}),l.d(t,"bulletVelocity",function(){return h}),l.d(t,"bulletArray",function(){return g}),l.d(t,"playerArray",function(){return d}),l.d(t,"platformArray",function(){return b}),l.d(t,"boss",function(){return x}),document.addEventListener("keydown",r),document.addEventListener("keyup",r);let s=document.querySelector("canvas").getContext("2d"),o={left:!1,right:!1,up:!1,down:!1,shoot:!1},n=40,y=n/2,i=12,p=300,u=700,c=25,f=5,h=5;s.canvas.height=p,s.canvas.width=u;let g={bullets:[]},d={players:[]},b={plat:[]},x={bossX:u/2,bossY:p-200,health:200,state:"left"};!function(){for(let e=0;e<7;e++){let t=Math.random()*(100*e-100*e)+100*e;b.plat[e]={startX:t,endX:t+50,height:120*Math.random()+80},console.log(b)}}(),function(){for(let e=0;e<i;e++)d.players[e]={height:n,width:n/2,x:Math.random()*(u-0)+0,y:0,x_velocity:0,y_velocity:0,reloading:!1,health:100,facingLeft:!1,jumpState:!1,leftState:!1,rightState:!1,upState:!1,duckState:!1,shootState:!1},console.log(d)}(),function e(){s.clearRect(0,0,u,p),function(){for(let e=0;e<i;e++)if(1==d.players[e].upState&&0==d.players[e].jumping&&(d.players[e].y_velocity-=20,d.players[e].jumping=!0),d.players[e].leftState&&(d.players[e].facingLeft=!0,d.players[e].x_velocity-=.4),d.players[e].rightState&&(d.players[e].facingLeft=!1,d.players[e].x_velocity+=.4),d.players[e].y_velocity+=1.2,d.players[e].x+=d.players[e].x_velocity,d.players[e].y+=d.players[e].y_velocity,d.players[e].x_velocity*=.9,d.players[e].y_velocity*=.9,d.players[e].health>1){d.players[e].y>p-c-d.players[e].height&&(d.players[e].jumping=!1,d.players[e].y=p-c-d.players[e].height,d.players[e].y_velocity=0);for(let t=0;t<7;t++)d.players[e].y>b.plat[t].height-d.players[e].height&&d.players[e].y<b.plat[t].height&&d.players[e].x>b.plat[t].startX-20&&d.players[e].x<b.plat[t].endX&&(d.players[e].jumping=!1,d.players[e].y=b.plat[t].height-d.players[e].height,d.players[e].y_velocity=0)}}(),function(){for(let e=0;e<i;e++)d.players[e].x<-n&&(d.players[e].x=-10,d.players[e].x_velocity=0),d.players[e].x>u&&(d.players[e].x=u)}(),function(){for(let e=0;e<i;e++)d.players[e].duckState?d.players[e].height=y:d.players[e].height=2*y}(),function(){for(let e=0;e<b.plat.length;e++){s.beginPath(),s.fillStyle="#ff4300",s.rect(b.plat[e].startX,b.plat[e].height,b.plat[e].endX-b.plat[e].startX,10),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath();for(let t=0;t<5;t++)s.strokeStyle="black",s.beginPath(),s.moveTo(b.plat[e].startX+10*t,b.plat[e].height),s.lineTo(b.plat[e].startX+10*t,b.plat[e].height+10),s.stroke(),s.closePath()}}(),function(){for(let e=0;e<g.bullets.length;e++)for(let t=0;t<g.bullets.length;t++)g.bullets[e].x-g.bullets[t].x<5&&g.bullets[e].x-g.bullets[t].x>0&&g.bullets[e].y-g.bullets[t].y<5&&g.bullets[e].y-g.bullets[t].y>0&&console.log("boing!")}(),function(){for(let e=0;e<i;e++)d.players[e].health<21?s.fillStyle="red":d.players[e].health<51?s.fillStyle="orange":s.fillStyle="#2aff00",s.beginPath(),s.rect(d.players[e].x-5,d.players[e].y-15,d.players[e].health/3.3,5),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath()}(),function(){for(let e=0;e<i;e++){s.beginPath(),s.fillStyle="red",e>0&&(s.fillStyle="yellow"),s.rect(d.players[e].x,d.players[e].y,d.players[e].width,d.players[e].height),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath(),s.beginPath(),s.arc(d.players[e].x+5,d.players[e].y+5,2,0,2*Math.PI),s.stroke(),s.beginPath(),s.arc(d.players[e].x+15,d.players[e].y+5,2,0,2*Math.PI),s.stroke(),s.beginPath(),s.arc(d.players[e].x+10,d.players[e].y+9,1,0,2*Math.PI),s.stroke();let t=0;t=d.players[e].health<30?2*Math.PI:Math.PI,s.beginPath(),s.arc(d.players[e].x+10,d.players[e].y+15,3,0,t),s.stroke(),d.players[e].facingLeft||(s.beginPath(),s.moveTo(d.players[e].x+20,d.players[e].y+15),s.lineTo(d.players[e].x+20,d.players[e].y+20),s.lineTo(d.players[e].x+25,d.players[e].y+15),s.lineTo(d.players[e].x+30,d.players[e].y+15),s.lineTo(d.players[e].x+20,d.players[e].y+15),s.stroke()),d.players[e].facingLeft&&(s.beginPath(),s.moveTo(d.players[e].x-20+20,d.players[e].y+15),s.lineTo(d.players[e].x-20+20,d.players[e].y+20),s.lineTo(d.players[e].x-25+20,d.players[e].y+15),s.lineTo(d.players[e].x-30+20,d.players[e].y+15),s.lineTo(d.players[e].x-20+20,d.players[e].y+15),s.stroke())}}(),function(){for(let e=0;e<i;e++)for(let e=0;e<g.bullets.length;e++)s.beginPath(),s.arc(g.bullets[e].x,g.bullets[e].y,f,0,2*Math.PI),s.fillStyle="#0095DD",s.fill(),s.strokeStyle="black",s.stroke(),s.closePath()}(),function(){for(let e=0;e<g.bullets.length;e++)for(let t=0;t<i;t++)g.bullets[e].x-d.players[t].x<5&&g.bullets[e].x-d.players[t].x>0&&g.bullets[e].y-d.players[t].y<40&&g.bullets[e].y-d.players[t].y>0&&(g.bullets[e].y=g.bullets[e].y+1e3,d.players[t].health-=10,console.log("Player "+t+" Hit, Current Health: "+d.players[t].health))}(),function(){for(let e=0;e<g.bullets.length;e++)g.bullets[e].x+=g.bullets[e].dx}(),function(){let e=new Image;e.src="./assets/boss.png",s.drawImage(e,x.bossX+5*+Math.random(),x.bossY+5*+Math.random())}(),x.bossX>u?(x.state="left",console.log("Boss status: Moving:",x.state)):x.bossX<50&&(x.state="right",console.log("Boss status: Moving:",x.state)),"left"==x.state?(x.bossX*=.99,x.bossY*=.99):"right"==x.state&&(x.bossY*=1.01,x.bossX*=1.01),window.requestAnimationFrame(e)}()}]);