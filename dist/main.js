!function(e){var t={};function l(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";function n(){T.plat=[];for(let e=0;e<S/300;e++)for(let e=0;e<M/50;e++){let t=Math.random()*(55*e-55*e)+55*e;T.plat[T.plat.length]={x:t,endX:t+50,y:Math.random()*(S-80-50)+50}}}function a(e){let t=B.bullets.length;for(let l=B.bullets.length;l<t+1;l++){let t,n;"b"!==e?(E.players[e].facingLeft||(t=w+Math.random(),n=40),E.players[e].facingLeft&&(t=-w+Math.random(),n=-20),B.bullets[l]={dx:t,dy:0,x:E.players[e].x+n,y:E.players[e].y+15,origin:0}):B.bullets[l]={dx:6*Math.random()-3,dy:6*Math.random()-3,x:L.x+63,y:L.y+63,origin:1,hasBounced:0}}}function r(){V()}function o(){window.location.reload(!1)}function y(e){var t="keydown"==event.type;for(let l=0;l<E.players.length;l++)l<2&&(e.keyCode==(0==l?65:37)&&(E.players[l].leftState=t),e.keyCode==(0==l?87:38)&&(E.players[l].upState=t),e.keyCode==(0==l?68:39)&&(E.players[l].rightState=t),e.keyCode==(0==l?83:40)&&(E.players[l].duckState=t),e.keyCode==(0==l?32:16)&&(E.players[l].shootState=t),!E.players[l].reloading&&E.players[l].shootState&&s(l));i()}function s(e){E.players[e].reloading||(a(e),E.players[e].reloading=!0),E.players[e].reloading&&setTimeout(function(){E.players[e].reloading=!1},400)}function i(){for(let e=0;e<E.players.length;e++)E.players[e].duckState?E.players[e].height=x:E.players[e].height=2*x}l.r(t),document.addEventListener("DOMContentLoaded",function(){document.getElementById("startGame").onclick=r,document.getElementById("restartGame").onclick=o,document.getElementById("restartGameWin").onclick=o});let u=0;function p(){E.players=[];for(let e=0;e<k+u;e++)E.players[e]={height:b,width:b/2,x:Math.random()*M,y:0,xVelocity:0,yVelocity:0,reloading:!1,health:100,facingLeft:!1,color:"#"+(16777215*Math.random()<<0).toString(16),jumpState:!1,leftState:!1,rightState:!1,upState:!1,duckState:!1,shootState:!1}}document.addEventListener("DOMContentLoaded",function(){document.getElementById("rp0").onclick=function(){u=0},document.getElementById("rp1").onclick=function(){u=1},document.getElementById("rp2").onclick=function(){u=2}});let c=0,d=0;function f(){0==c&&(c=Date.now()),d=60-Math.floor((Date.now()-c)/1e3),h.fillStyle=d>5?"Black":"red",h.font="15px Arial",d>0&&(L.ammo=0,h.fillText("Boss Timer:"+d,M/2-40,15)),d<=0&&(L.health>0&&(L.x+=L.dx,L.y+=L.dy),function(){(L.x+L.dx>M+10||L.x+L.dx<-130)&&(L.dx=-L.dx);(L.y+L.dy>S-100||L.y+L.dy<-50)&&(L.dy=-L.dy)}(),function(){L.ammo>0&&(L.ammo--,a("b"));L.health<=0&&(L.ammo=1e6)}(),function(){let e=new Image;e.src=0==L.ammo?"./assets/boss.png":"./assets/bossGreen.png",h.drawImage(e,L.x,L.y)}())}l.d(t,"gameWindow",function(){return h}),l.d(t,"controlState",function(){return m}),l.d(t,"playerSize",function(){return b}),l.d(t,"duckHeight",function(){return x}),l.d(t,"playerNumber",function(){return k}),l.d(t,"windowHeight",function(){return S}),l.d(t,"windowWidth",function(){return M}),l.d(t,"groundHeight",function(){return P}),l.d(t,"bulletRadius",function(){return v}),l.d(t,"bulletVelocity",function(){return w}),l.d(t,"bulletArray",function(){return B}),l.d(t,"playerArray",function(){return E}),l.d(t,"platformArray",function(){return T}),l.d(t,"boss",function(){return L}),l.d(t,"setupGame",function(){return V}),document.addEventListener("keydown",y),document.addEventListener("keyup",y);let h=document.querySelector("canvas").getContext("2d");function g(e){S=1==e?300:2==e?450:3==e?600:750,M=1==e?700:2==e?1050:3==e?1400:1750,h.canvas.height=S,h.canvas.width=M,n()}document.addEventListener("DOMContentLoaded",function(){document.getElementById("ws0").onclick=function(){g(1)},document.getElementById("ws1").onclick=function(){g(2)},document.getElementById("ws2").onclick=function(){g(3)},document.getElementById("ws3").onclick=function(){g(4)}});let m={left:!1,right:!1,up:!1,down:!1,shoot:!1},b=40,x=b/2,k=4,S=300,M=700,P=25,v=5,w=5,I=0;h.canvas.height=S,h.canvas.width=M;let B={bullets:[]},E={players:[]},T={plat:[]},L={x:Math.random()*(M-0)+0,y:0,dx:2*Math.random()+1,dy:2*Math.random()+1,health:200,state:"left",ammo:100};function V(){document.getElementById("gameSetup").style.display="none",k=Number(document.getElementById("botPlayerAmount").value),n(),p(),I=1}function j(){let e=document.getElementById("myCanvas");var t=e.getBoundingClientRect();let l=document.getElementsByClassName("gameSetup");for(let n=0;n<l.length;n++)l[n].style.top=t.top+e.offsetHeight/2-l[n].offsetHeight/2+"px",l[n].style.left=t.left+e.offsetWidth/2-l[n].offsetWidth/2+"px"}j(),n(),p(),setInterval(function(){L.ammo+=100},8e3),setInterval(function(){!function(){for(let e=0;e<E.players.length;e++)e>=u&&(E.players[e].leftState=Math.random()>=.5,E.players[e].upState=Math.random()>=.9,E.players[e].rightState=Math.random()>=.5,E.players[e].duckState=Math.random()>=.9,!E.players[e].reloading&&Math.random()>=.7&&s(e));i()}(),B.bullets.forEach(e=>{e.hasBounced=0}),j()},200),function e(){h.clearRect(0,0,M,S),1==I&&L.y<S+100&&f(),1==E.players.length&&L.health<=0&&L.y>S&&(document.getElementById("winner").style.display="block"),0==E.players.length&&(document.getElementById("gameOver").style.display="block"),function(){for(let e=0;e<E.players.length;e++)E.players[e].health<21?h.fillStyle="red":E.players[e].health<51?h.fillStyle="orange":h.fillStyle="#2aff00",h.beginPath(),h.rect(E.players[e].x-5,E.players[e].y-15,E.players[e].health/3.3,5),h.fill(),h.strokeStyle="black",h.stroke(),h.closePath(),h.beginPath(),h.rect(L.x+10,L.y-10,L.health/1.9,5),h.fill(),h.strokeStyle="black",h.stroke(),h.closePath()}(),function(){for(let e=0;e<E.players.length;e++)1==E.players[e].upState&&0==E.players[e].jumping&&(E.players[e].yVelocity-=20,E.players[e].jumping=!0),E.players[e].leftState&&(E.players[e].facingLeft=!0,E.players[e].xVelocity-=.4),E.players[e].rightState&&(E.players[e].facingLeft=!1,E.players[e].xVelocity+=.4),E.players[e].yVelocity+=1.2,E.players[e].x+=E.players[e].xVelocity,E.players[e].y+=E.players[e].yVelocity,L.health<1&&(L.y+=.5),E.players[e].xVelocity*=.9,E.players[e].yVelocity*=.9,E.players[e].health>1&&E.players[e].y>S-P-E.players[e].height&&(E.players[e].y=S-P-E.players[e].height,E.players[e].jumping=!1,E.players[e].yVelocity=0)}(),function(){for(let e=0;e<E.players.length;e++)E.players[e].x<-b&&(E.players[e].x=-10,E.players[e].xVelocity=0),E.players[e].x>M&&(E.players[e].x=M)}(),function(){for(let e=0;e<B.bullets.length;e++)for(let t=0;t<1;t++)B.bullets[e].x-L.x<80&&B.bullets[e].x-L.x>50&&B.bullets[e].y-L.y<120&&B.bullets[e].y-L.y>0&&0==L.ammo&&1!=B.bullets[e].origin&&(L.health-=10,B.bullets[e].y=B.bullets[e].y+1e3)}(),function(){for(let e=0;e<B.bullets.length;e++)for(let t=0;t<T.plat.length;t++)B.bullets[e].x-T.plat[t].x<50&&B.bullets[e].x-T.plat[t].x>0&&B.bullets[e].y-T.plat[t].y<10&&B.bullets[e].y-T.plat[t].y>0&&1!=B.bullets[e].hasBounced&&(B.bullets[[e]].dy=-B.bullets[[e]].dy,B.bullets[e].hasBounced=1)}(),function(){for(let e=0;e<T.plat.length;e++){h.beginPath(),h.fillStyle="#ff4300",h.rect(T.plat[e].x,T.plat[e].y,T.plat[e].endX-T.plat[e].x,10),h.fill(),h.strokeStyle="black",h.stroke(),h.closePath();for(let t=0;t<6;t++)h.strokeStyle="black",h.beginPath(),h.moveTo(T.plat[e].x+10*t,T.plat[e].y),h.lineTo(T.plat[e].x+10*t,T.plat[e].y+10),h.stroke(),h.closePath()}}(),function(){for(let e=0;e<B.bullets.length;e++)for(let t=0;t<B.bullets.length;t++)B.bullets[e].x-B.bullets[t].x<5&&B.bullets[e].x-B.bullets[t].x>-5&&B.bullets[e].y-B.bullets[t].y<5&&B.bullets[e].y-B.bullets[t].y>-5&&e!=t&&(B.bullets[[e]].dy=-5*Math.random(),B.bullets[[t]].dy=5*Math.random())}(),function(){for(let e=0;e<E.players.length;e++){h.beginPath(),h.fillStyle=E.players[e].color,0==e&&(h.fillStyle="red"),1==e&&(h.fillStyle="yellow"),2==e&&(h.fillStyle="blue"),3==e&&(h.fillStyle="green"),h.rect(E.players[e].x,E.players[e].y,E.players[e].width,E.players[e].height),h.fill(),h.strokeStyle="black",h.stroke(),h.closePath(),h.beginPath(),h.arc(E.players[e].x+5,E.players[e].y+5,2,0,2*Math.PI),h.stroke(),h.beginPath(),h.arc(E.players[e].x+15,E.players[e].y+5,2,0,2*Math.PI),h.stroke(),h.beginPath(),h.arc(E.players[e].x+10,E.players[e].y+9,1,0,2*Math.PI),h.stroke();let t=0;t=E.players[e].health<30?2*Math.PI:Math.PI,h.beginPath(),h.arc(E.players[e].x+10,E.players[e].y+15,3,0,t),h.stroke(),E.players[e].facingLeft?(h.beginPath(),h.moveTo(E.players[e].x-20+20,E.players[e].y+15),h.lineTo(E.players[e].x-20+20,E.players[e].y+20),h.lineTo(E.players[e].x-25+20,E.players[e].y+15),h.lineTo(E.players[e].x-30+20,E.players[e].y+15),h.lineTo(E.players[e].x-20+20,E.players[e].y+15),h.stroke()):(h.beginPath(),h.moveTo(E.players[e].x+20,E.players[e].y+15),h.lineTo(E.players[e].x+20,E.players[e].y+20),h.lineTo(E.players[e].x+25,E.players[e].y+15),h.lineTo(E.players[e].x+30,E.players[e].y+15),h.lineTo(E.players[e].x+20,E.players[e].y+15),h.stroke()),E.players[e].y>S&&E.players.splice(e,1)}}(),function(){for(let e=0;e<B.bullets.length;e++)for(let t=0;t<E.players.length;t++)B.bullets[e].x-E.players[t].x<20&&B.bullets[e].x-E.players[t].x>0&&B.bullets[e].y-E.players[t].y<40&&B.bullets[e].y-E.players[t].y>0&&(E.players[[t]].health-=10,B.bullets[[e]].y=B.bullets[[e]].y+1e3)}(),function(){for(let e=0;e<E.players.length;e++)for(let t=0;t<T.plat.length;t++)E.players[e].y>T.plat[t].y-E.players[e].height&&E.players[e].y<T.plat[t].y&&E.players[e].x>T.plat[t].x-20&&E.players[e].x<T.plat[t].endX&&(E.players[e].jumping=!1,E.players[e].health>1&&(E.players[e].yVelocity=0,E.players[e].y=T.plat[t].y-E.players[e].height+4))}(),function(){for(let e=0;e<B.bullets.length;e++)B.bullets[e].y<S&&B.bullets[e].x<M&&B.bullets[e].x>0?(h.beginPath(),h.arc(B.bullets[e].x,B.bullets[e].y,v,0,2*Math.PI),h.fillStyle="#"+(16777215*Math.random()<<0).toString(16),h.fill(),h.strokeStyle="black",h.stroke(),h.closePath()):B.bullets.splice(e,1)}(),function(){for(let e=0;e<B.bullets.length;e++)B.bullets[e].x+=B.bullets[e].dx,B.bullets[e].y+=B.bullets[e].dy}(),window.requestAnimationFrame(e)}()}]);