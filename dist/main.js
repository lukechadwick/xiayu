!function(e){var t={};function l(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(r,a,function(t){return e[t]}.bind(null,a));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";function r(e){var t="keydown"==event.type;e.preventDefault();for(let l=0;l<p;l++)e.keyCode==(0==l?65:37)&&(b.players[l].leftState=t),e.keyCode==(0==l?87:38)&&(b.players[l].upState=t),e.keyCode==(0==l?68:39)&&(b.players[l].rightState=t),e.keyCode==(0==l?83:40)&&(b.players[l].duckState=t),e.keyCode==(0==l?32:16)&&(b.players[l].shootState=t),!b.players[l].reloading&&b.players[l].shootState&&a(l)}function a(e){b.players[e].reloading||(!function(e){let t=d.bullets.length;for(let l=d.bullets.length;l<t+1;l++){let t,r;b.players[e].facingLeft||(t=g+Math.random(),r=40),b.players[e].facingLeft&&(t=-g+Math.random(),r=-20),d.bullets[l]={dx:t,dy:-g+Math.random(),x:b.players[e].x+r,y:b.players[e].y+15},console.log(d)}}(e),b.players[e].reloading=!0),b.players[e].reloading&&setTimeout(function(){b.players[e].reloading=!1},500)}function o(e,t,l,r,a,o,s){for(let s=0;s<e.length;s++)for(let n=0;n<t.length;n++)if(e[s].x-t[n].x<l&&e[s].x-t[n].x>r&&e[s].y-t[n].y<a&&e[s].y-t[n].y>o)return[s,n]}l.r(t),l.d(t,"gameWindow",function(){return s}),l.d(t,"controlState",function(){return n}),l.d(t,"playerSize",function(){return y}),l.d(t,"duckHeight",function(){return i}),l.d(t,"playerNumber",function(){return p}),l.d(t,"windowHeight",function(){return u}),l.d(t,"windowWidth",function(){return f}),l.d(t,"groundHeight",function(){return c}),l.d(t,"bulletRadius",function(){return h}),l.d(t,"bulletVelocity",function(){return g}),l.d(t,"bulletArray",function(){return d}),l.d(t,"playerArray",function(){return b}),l.d(t,"platformArray",function(){return x}),l.d(t,"boss",function(){return S}),document.addEventListener("keydown",r),document.addEventListener("keyup",r);let s=document.querySelector("canvas").getContext("2d"),n={left:!1,right:!1,up:!1,down:!1,shoot:!1},y=40,i=y/2,p=4,u=300,f=700,c=25,h=5,g=5;s.canvas.height=u,s.canvas.width=f;let d={bullets:[]},b={players:[]},x={plat:[]},S={bossX:f/2,bossY:u-200,health:200,state:"left"};!function(){for(let e=0;e<7;e++){let t=Math.random()*(100*e-100*e)+100*e;x.plat[e]={startX:t,endX:t+50,height:120*Math.random()+80},console.log(x)}}(),function(){for(let e=0;e<p;e++)b.players[e]={height:y,width:y/2,x:Math.random()*(f-0)+0,y:0,x_velocity:0,y_velocity:0,reloading:!1,health:100,facingLeft:!1,jumpState:!1,leftState:!1,rightState:!1,upState:!1,duckState:!1,shootState:!1},console.log(b)}(),function e(){s.clearRect(0,0,f,u),function(){for(let e=0;e<p;e++)if(1==b.players[e].upState&&0==b.players[e].jumping&&(b.players[e].y_velocity-=20,b.players[e].jumping=!0),b.players[e].leftState&&(b.players[e].facingLeft=!0,b.players[e].x_velocity-=.4),b.players[e].rightState&&(b.players[e].facingLeft=!1,b.players[e].x_velocity+=.4),b.players[e].y_velocity+=1.2,b.players[e].x+=b.players[e].x_velocity,b.players[e].y+=b.players[e].y_velocity,b.players[e].x_velocity*=.9,b.players[e].y_velocity*=.9,b.players[e].health>1){b.players[e].y>u-c-b.players[e].height&&(b.players[e].jumping=!1,b.players[e].y=u-c-b.players[e].height,b.players[e].y_velocity=0);for(let t=0;t<7;t++)b.players[e].y>x.plat[t].height-b.players[e].height&&b.players[e].y<x.plat[t].height&&b.players[e].x>x.plat[t].startX-20&&b.players[e].x<x.plat[t].endX&&(b.players[e].jumping=!1,b.players[e].y=x.plat[t].height-b.players[e].height,b.players[e].y_velocity=0)}}(),function(){for(let e=0;e<p;e++)b.players[e].x<-y&&(b.players[e].x=-10,b.players[e].x_velocity=0),b.players[e].x>f&&(b.players[e].x=f)}(),function(){for(let e=0;e<p;e++)b.players[e].duckState?b.players[e].height=i:b.players[e].height=2*i}(),function(){for(let e=0;e<x.plat.length;e++){s.beginPath(),s.fillStyle="#ff4300",s.rect(x.plat[e].startX,x.plat[e].height,x.plat[e].endX-x.plat[e].startX,10),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath();for(let t=0;t<5;t++)s.strokeStyle="black",s.beginPath(),s.moveTo(x.plat[e].startX+10*t,x.plat[e].height),s.lineTo(x.plat[e].startX+10*t,x.plat[e].height+10),s.stroke(),s.closePath()}}(),function(){for(let e=0;e<d.bullets.length;e++)for(let t=0;t<d.bullets.length;t++)d.bullets[e].x-d.bullets[t].x<5&&d.bullets[e].x-d.bullets[t].x>0&&d.bullets[e].y-d.bullets[t].y<5&&d.bullets[e].y-d.bullets[t].y>0&&console.log("boing!")}(),function(){for(let e=0;e<p;e++)b.players[e].health<21?s.fillStyle="red":b.players[e].health<51?s.fillStyle="orange":s.fillStyle="#2aff00",s.beginPath(),s.rect(b.players[e].x-5,b.players[e].y-15,b.players[e].health/3.3,5),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath()}(),function(){for(let e=0;e<p;e++){s.beginPath(),s.fillStyle="red",e>0&&(s.fillStyle="yellow"),s.rect(b.players[e].x,b.players[e].y,b.players[e].width,b.players[e].height),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath(),s.beginPath(),s.arc(b.players[e].x+5,b.players[e].y+5,2,0,2*Math.PI),s.stroke(),s.beginPath(),s.arc(b.players[e].x+15,b.players[e].y+5,2,0,2*Math.PI),s.stroke(),s.beginPath(),s.arc(b.players[e].x+10,b.players[e].y+9,1,0,2*Math.PI),s.stroke();let t=0;t=b.players[e].health<30?2*Math.PI:Math.PI,s.beginPath(),s.arc(b.players[e].x+10,b.players[e].y+15,3,0,t),s.stroke(),b.players[e].facingLeft||(s.beginPath(),s.moveTo(b.players[e].x+20,b.players[e].y+15),s.lineTo(b.players[e].x+20,b.players[e].y+20),s.lineTo(b.players[e].x+25,b.players[e].y+15),s.lineTo(b.players[e].x+30,b.players[e].y+15),s.lineTo(b.players[e].x+20,b.players[e].y+15),s.stroke()),b.players[e].facingLeft&&(s.beginPath(),s.moveTo(b.players[e].x-20+20,b.players[e].y+15),s.lineTo(b.players[e].x-20+20,b.players[e].y+20),s.lineTo(b.players[e].x-25+20,b.players[e].y+15),s.lineTo(b.players[e].x-30+20,b.players[e].y+15),s.lineTo(b.players[e].x-20+20,b.players[e].y+15),s.stroke())}}(),function(){for(let e=0;e<p;e++)for(let e=0;e<d.bullets.length;e++)s.beginPath(),s.arc(d.bullets[e].x,d.bullets[e].y,h,0,2*Math.PI),s.fillStyle="#0095DD",s.fill(),s.strokeStyle="black",s.stroke(),s.closePath()}(),function(){let e=o(d.bullets,b.players,5,0,40,0);e&&(b.players[e[1]].health-=10,d.bullets[e[0]].y=d.bullets[e[0]].y+1e3,console.log("Player "+e[1]+" Hit, Current Health: "+b.players[e[1]].health))}(),function(){for(let e=0;e<d.bullets.length;e++)d.bullets[e].x+=d.bullets[e].dx}(),function(){let e=new Image;e.src="./assets/boss.png",s.drawImage(e,S.bossX+5*+Math.random(),S.bossY+5*+Math.random())}(),S.bossX>f?(S.state="left",console.log("Boss status: Moving:",S.state)):S.bossX<50&&(S.state="right",console.log("Boss status: Moving:",S.state)),"left"==S.state?(S.bossX*=.99,S.bossY*=.99):"right"==S.state&&(S.bossY*=1.01,S.bossX*=1.01),window.requestAnimationFrame(e)}()}]);