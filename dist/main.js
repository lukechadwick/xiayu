!function(e){var t={};function l(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";function n(){E.plat=[];for(let e=0;e<x/300;e++)for(let e=0;e<k/50;e++){let t=Math.random()*(55*e-55*e)+55*e;E.plat[E.plat.length]={x:t,endX:t+50,y:Math.random()*(x-80-50)+50}}}function a(e){let t=w.bullets.length;for(let l=w.bullets.length;l<t+1;l++){let t,n;"b"!==e?(I.players[e].facingLeft||(t=P+Math.random(),n=40),I.players[e].facingLeft&&(t=-P+Math.random(),n=-20),w.bullets[l]={dx:t,dy:0,x:I.players[e].x+n,y:I.players[e].y+15,origin:0}):w.bullets[l]={dx:6*Math.random()-3,dy:6*Math.random()-3,x:B.x+63,y:B.y+63,origin:1,hasBounced:0}}}function r(){T()}function o(){window.location.reload(!1)}function y(e){var t="keydown"==event.type;for(let l=0;l<I.players.length;l++)l<2&&(e.keyCode==(0==l?65:37)&&(I.players[l].leftState=t),e.keyCode==(0==l?87:38)&&(I.players[l].upState=t),e.keyCode==(0==l?68:39)&&(I.players[l].rightState=t),e.keyCode==(0==l?83:40)&&(I.players[l].duckState=t),e.keyCode==(0==l?32:16)&&(I.players[l].shootState=t),!I.players[l].reloading&&I.players[l].shootState&&s(l));i()}function s(e){I.players[e].reloading||(a(e),I.players[e].reloading=!0),I.players[e].reloading&&setTimeout(function(){I.players[e].reloading=!1},400)}function i(){for(let e=0;e<I.players.length;e++)I.players[e].duckState?I.players[e].height=m:I.players[e].height=2*m}l.r(t),document.addEventListener("DOMContentLoaded",function(){document.getElementById("startGame").onclick=r,document.getElementById("restartGame").onclick=o,document.getElementById("restartGameWin").onclick=o});let u=0;function p(){I.players=[];for(let e=0;e<b+u;e++)I.players[e]={height:g,width:g/2,x:Math.random()*k,y:0,xVelocity:0,yVelocity:0,reloading:!1,health:100,facingLeft:!1,color:"#"+(16777215*Math.random()<<0).toString(16),jumpState:!1,leftState:!1,rightState:!1,upState:!1,duckState:!1,shootState:!1}}function c(){B.x+=B.dx,B.y+=B.dy,function(){(B.x+B.dx>k+10||B.x+B.dx<-130)&&(B.dx=-B.dx);(B.y+B.dy>x-100||B.y+B.dy<-50)&&(B.dy=-B.dy)}(),B.ammo>0&&(B.ammo--,a("b"))}document.addEventListener("DOMContentLoaded",function(){document.getElementById("rp0").onclick=function(){u=0},document.getElementById("rp1").onclick=function(){u=1},document.getElementById("rp2").onclick=function(){u=2}}),l.d(t,"gameWindow",function(){return d}),l.d(t,"controlState",function(){return h}),l.d(t,"playerSize",function(){return g}),l.d(t,"duckHeight",function(){return m}),l.d(t,"playerNumber",function(){return b}),l.d(t,"windowHeight",function(){return x}),l.d(t,"windowWidth",function(){return k}),l.d(t,"groundHeight",function(){return S}),l.d(t,"bulletRadius",function(){return M}),l.d(t,"bulletVelocity",function(){return P}),l.d(t,"bulletArray",function(){return w}),l.d(t,"playerArray",function(){return I}),l.d(t,"platformArray",function(){return E}),l.d(t,"boss",function(){return B}),l.d(t,"setupGame",function(){return T}),document.addEventListener("keydown",y),document.addEventListener("keyup",y);let d=document.querySelector("canvas").getContext("2d");function f(e){x=1==e?300:2==e?450:3==e?600:750,k=1==e?700:2==e?1050:3==e?1400:1750,d.canvas.height=x,d.canvas.width=k,n()}document.addEventListener("DOMContentLoaded",function(){document.getElementById("ws0").onclick=function(){f(1)},document.getElementById("ws1").onclick=function(){f(2)},document.getElementById("ws2").onclick=function(){f(3)},document.getElementById("ws3").onclick=function(){f(4)}});let h={left:!1,right:!1,up:!1,down:!1,shoot:!1},g=40,m=g/2,b=4,x=300,k=700,S=25,M=5,P=5,v=0;d.canvas.height=x,d.canvas.width=k;let w={bullets:[]},I={players:[]},E={plat:[]},B={x:Math.random()*(k-0)+0,y:0,dx:2*Math.random()+1,dy:2*Math.random()+1,health:200,state:"left",ammo:100};function T(){document.getElementById("gameSetup").style.display="none",b=Number(document.getElementById("botPlayerAmount").value),n(),p()}function L(){let e=document.getElementById("myCanvas");var t=e.getBoundingClientRect();let l=document.getElementsByClassName("gameSetup");for(let n=0;n<l.length;n++)l[n].style.top=t.top+e.offsetHeight/2-l[n].offsetHeight/2+"px",l[n].style.left=t.left+e.offsetWidth/2-l[n].offsetWidth/2+"px"}L(),n(),p(),setInterval(function(){B.ammo=100},8e3),setInterval(function(){!function(){for(let e=0;e<I.players.length;e++)e>=u&&(I.players[e].leftState=Math.random()>=.5,I.players[e].upState=Math.random()>=.9,I.players[e].rightState=Math.random()>=.5,I.players[e].duckState=Math.random()>=.9,!I.players[e].reloading&&Math.random()>=.7&&s(e));i()}(),w.bullets.forEach(e=>{e.hasBounced=0}),L()},200),setTimeout(function(){v=1},6e4),function e(){d.clearRect(0,0,k,x),1==v&&B.y<x+100&&(function(){let e=new Image;0==B.ammo?e.src="./assets/boss.png":e.src="./assets/bossGreen.png",d.drawImage(e,B.x,B.y)}(),c()),1==I.players.length&&B.health<=0&&(document.getElementById("winner").style.display="block"),0==I.players.length&&(document.getElementById("gameOver").style.display="block"),function(){for(let e=0;e<I.players.length;e++)I.players[e].health<21?d.fillStyle="red":I.players[e].health<51?d.fillStyle="orange":d.fillStyle="#2aff00",d.beginPath(),d.rect(I.players[e].x-5,I.players[e].y-15,I.players[e].health/3.3,5),d.fill(),d.strokeStyle="black",d.stroke(),d.closePath(),d.beginPath(),d.rect(B.x+10,B.y-10,B.health/1.9,5),d.fill(),d.strokeStyle="black",d.stroke(),d.closePath()}(),function(){for(let e=0;e<I.players.length;e++)1==I.players[e].upState&&0==I.players[e].jumping&&(I.players[e].yVelocity-=20,I.players[e].jumping=!0),I.players[e].leftState&&(I.players[e].facingLeft=!0,I.players[e].xVelocity-=.4),I.players[e].rightState&&(I.players[e].facingLeft=!1,I.players[e].xVelocity+=.4),I.players[e].yVelocity+=1.2,I.players[e].x+=I.players[e].xVelocity,I.players[e].y+=I.players[e].yVelocity,B.health<1&&(B.y+=.5),I.players[e].xVelocity*=.9,I.players[e].yVelocity*=.9,I.players[e].health>1&&I.players[e].y>x-S-I.players[e].height&&(I.players[e].y=x-S-I.players[e].height,I.players[e].jumping=!1,I.players[e].yVelocity=0)}(),function(){for(let e=0;e<I.players.length;e++)I.players[e].x<-g&&(I.players[e].x=-10,I.players[e].xVelocity=0),I.players[e].x>k&&(I.players[e].x=k)}(),function(){for(let e=0;e<w.bullets.length;e++)for(let t=0;t<1;t++)w.bullets[e].x-B.x<80&&w.bullets[e].x-B.x>50&&w.bullets[e].y-B.y<120&&w.bullets[e].y-B.y>0&&0==B.ammo&&1!=w.bullets[e].origin&&(B.health-=10,w.bullets[e].y=w.bullets[e].y+1e3)}(),function(){for(let e=0;e<w.bullets.length;e++)for(let t=0;t<E.plat.length;t++)w.bullets[e].x-E.plat[t].x<50&&w.bullets[e].x-E.plat[t].x>0&&w.bullets[e].y-E.plat[t].y<10&&w.bullets[e].y-E.plat[t].y>0&&1!=w.bullets[e].hasBounced&&(w.bullets[[e]].dy=-w.bullets[[e]].dy,w.bullets[e].hasBounced=1)}(),function(){for(let e=0;e<E.plat.length;e++){d.beginPath(),d.fillStyle="#ff4300",d.rect(E.plat[e].x,E.plat[e].y,E.plat[e].endX-E.plat[e].x,10),d.fill(),d.strokeStyle="black",d.stroke(),d.closePath();for(let t=0;t<6;t++)d.strokeStyle="black",d.beginPath(),d.moveTo(E.plat[e].x+10*t,E.plat[e].y),d.lineTo(E.plat[e].x+10*t,E.plat[e].y+10),d.stroke(),d.closePath()}}(),function(){for(let e=0;e<w.bullets.length;e++)for(let t=0;t<w.bullets.length;t++)w.bullets[e].x-w.bullets[t].x<5&&w.bullets[e].x-w.bullets[t].x>-5&&w.bullets[e].y-w.bullets[t].y<5&&w.bullets[e].y-w.bullets[t].y>-5&&e!=t&&(w.bullets[[e]].dy=-5*Math.random(),w.bullets[[t]].dy=5*Math.random())}(),function(){for(let e=0;e<I.players.length;e++){d.beginPath(),d.fillStyle=I.players[e].color,0==e&&(d.fillStyle="red"),1==e&&(d.fillStyle="yellow"),2==e&&(d.fillStyle="blue"),3==e&&(d.fillStyle="green"),d.rect(I.players[e].x,I.players[e].y,I.players[e].width,I.players[e].height),d.fill(),d.strokeStyle="black",d.stroke(),d.closePath(),d.beginPath(),d.arc(I.players[e].x+5,I.players[e].y+5,2,0,2*Math.PI),d.stroke(),d.beginPath(),d.arc(I.players[e].x+15,I.players[e].y+5,2,0,2*Math.PI),d.stroke(),d.beginPath(),d.arc(I.players[e].x+10,I.players[e].y+9,1,0,2*Math.PI),d.stroke();let t=0;t=I.players[e].health<30?2*Math.PI:Math.PI,d.beginPath(),d.arc(I.players[e].x+10,I.players[e].y+15,3,0,t),d.stroke(),I.players[e].facingLeft?(d.beginPath(),d.moveTo(I.players[e].x-20+20,I.players[e].y+15),d.lineTo(I.players[e].x-20+20,I.players[e].y+20),d.lineTo(I.players[e].x-25+20,I.players[e].y+15),d.lineTo(I.players[e].x-30+20,I.players[e].y+15),d.lineTo(I.players[e].x-20+20,I.players[e].y+15),d.stroke()):(d.beginPath(),d.moveTo(I.players[e].x+20,I.players[e].y+15),d.lineTo(I.players[e].x+20,I.players[e].y+20),d.lineTo(I.players[e].x+25,I.players[e].y+15),d.lineTo(I.players[e].x+30,I.players[e].y+15),d.lineTo(I.players[e].x+20,I.players[e].y+15),d.stroke()),I.players[e].y>x&&I.players.splice(e,1)}}(),function(){for(let e=0;e<w.bullets.length;e++)for(let t=0;t<I.players.length;t++)w.bullets[e].x-I.players[t].x<20&&w.bullets[e].x-I.players[t].x>0&&w.bullets[e].y-I.players[t].y<40&&w.bullets[e].y-I.players[t].y>0&&(I.players[[t]].health-=10,w.bullets[[e]].y=w.bullets[[e]].y+1e3)}(),function(){for(let e=0;e<I.players.length;e++)for(let t=0;t<E.plat.length;t++)I.players[e].y>E.plat[t].y-I.players[e].height&&I.players[e].y<E.plat[t].y&&I.players[e].x>E.plat[t].x-20&&I.players[e].x<E.plat[t].endX&&(I.players[e].jumping=!1,I.players[e].health>1&&(I.players[e].yVelocity=0,I.players[e].y=E.plat[t].y-I.players[e].height+4))}(),function(){for(let e=0;e<w.bullets.length;e++)w.bullets[e].y<x&&w.bullets[e].x<k&&w.bullets[e].x>0?(d.beginPath(),d.arc(w.bullets[e].x,w.bullets[e].y,M,0,2*Math.PI),d.fillStyle="#"+(16777215*Math.random()<<0).toString(16),d.fill(),d.strokeStyle="black",d.stroke(),d.closePath()):w.bullets.splice(e,1)}(),function(){for(let e=0;e<w.bullets.length;e++)w.bullets[e].x+=w.bullets[e].dx,w.bullets[e].y+=w.bullets[e].dy}(),window.requestAnimationFrame(e)}()}]);