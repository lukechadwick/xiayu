!function(e){var t={};function l(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(r,a,function(t){return e[t]}.bind(null,a));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";function r(e){var t="keydown"==event.type;e.preventDefault(),65==e.keyCode?o.aKey=t:87==e.keyCode?o.wKey=t:68==e.keyCode?o.dKey=t:83==e.keyCode?o.sKey=t:16==e.keyCode&&(o.shiftKey=t,!b.players[0].reloading&&o.shiftKey&&a(0)),37==e.keyCode?(o.left=t,b.players[0].facingLeft=!0):38==e.keyCode?o.up=t:39==e.keyCode?(o.right=t,b.players[0].facingLeft=!1):40==e.keyCode?o.down=t:32==e.keyCode&&(o.spaceKey=t,!b.players[1].reloading&&o.spaceKey&&a(1))}function a(e){b.players[e].reloading||(h++,function(e){for(let t=h-1;t<h;t++){let l,r;b.players[e].facingLeft||(l=d+Math.random(),r=40),b.players[e].facingLeft&&(l=-d+Math.random(),r=-20),g.bullets[t]={dx:l,dy:-d+Math.random(),x:b.players[e].x+r,y:b.players[e].y+15},console.log(g)}}(e),b.players[e].reloading=!0),b.players[e].reloading&&setTimeout(function(){b.players[e].reloading=!1},500)}l.r(t),l.d(t,"gameWindow",function(){return s}),l.d(t,"controlState",function(){return o}),l.d(t,"playerSize",function(){return y}),l.d(t,"duckHeight",function(){return n}),l.d(t,"playerNumber",function(){return i}),l.d(t,"windowHeight",function(){return p}),l.d(t,"windowWidth",function(){return u}),l.d(t,"groundHeight",function(){return f}),l.d(t,"bulletRadius",function(){return c}),l.d(t,"bulletsInWorld",function(){return h}),l.d(t,"bulletVelocity",function(){return d}),l.d(t,"bulletArray",function(){return g}),l.d(t,"playerArray",function(){return b}),l.d(t,"platformArray",function(){return x}),l.d(t,"boss",function(){return v}),document.addEventListener("keydown",r),document.addEventListener("keyup",r);let s=document.querySelector("canvas").getContext("2d"),o={left:!1,right:!1,up:!1,down:!1,shoot:!1},y=40,n=y/2,i=2,p=300,u=700,f=25,c=5,h=1,d=5;s.canvas.height=p,s.canvas.width=u;let g={bullets:[{dx:0,dy:0,x:0,y:0}]},b={players:[]},x={plat:[]},v={bossX:u/2,bossY:p-200,health:200,state:"left"};!function(){for(let e=0;e<7;e++){let t=Math.random()*(100*e-100*e)+100*e;x.plat[e]={startX:t,endX:t+50,height:120*Math.random()+80},console.log(x)}}(),function(){for(let e=0;e<i;e++)b.players[e]={height:y,width:y/2,jumpState:!1,x:u/2,y:0,x_velocity:0,y_velocity:0,reloading:!1,health:100,facingLeft:!1},console.log(b)}(),function e(){s.clearRect(0,0,u,p),function(){for(let e=0;e<i;e++)if(o.up&&0==b.players[0].jumping&&(b.players[0].y_velocity-=20,b.players[0].jumping=!0),o.left&&(b.players[0].facingLeft=!0,b.players[0].x_velocity-=.2),o.right&&(b.players[0].facingLeft=!1,b.players[0].x_velocity+=.2),o.wKey&&0==b.players[1].jumping&&(b.players[1].y_velocity-=20,b.players[1].jumping=!0),o.aKey&&(b.players[1].x_velocity-=.2,b.players[1].facingLeft=!0),o.dKey&&(b.players[1].facingLeft=!1,b.players[1].x_velocity+=.2),b.players[e].y_velocity+=1.2,b.players[e].x+=b.players[e].x_velocity,b.players[e].y+=b.players[e].y_velocity,b.players[e].x_velocity*=.9,b.players[e].y_velocity*=.9,b.players[e].health>1){b.players[e].y>p-f-b.players[e].height&&(b.players[e].jumping=!1,b.players[e].y=p-f-b.players[e].height,b.players[e].y_velocity=0);for(let t=0;t<7;t++)b.players[e].y>x.plat[t].height-b.players[e].height&&b.players[e].y<x.plat[t].height&&b.players[e].x>x.plat[t].startX-20&&b.players[e].x<x.plat[t].endX&&(b.players[e].jumping=!1,b.players[e].y=x.plat[t].height-b.players[e].height,b.players[e].y_velocity=0)}}(),function(){for(let e=0;e<i;e++)b.players[e].x<-y&&(b.players[e].x=-10,b.players[e].x_velocity=0),b.players[e].x>u&&(b.players[e].x=u)}(),function(){for(let e=0;e<i;e++)o.down?b.players[0].height=n:b.players[0].height=2*n,o.sKey?b.players[1].height=n:b.players[1].height=2*n}(),function(){for(let e=0;e<x.plat.length;e++){s.beginPath(),s.fillStyle="#ff4300",s.rect(x.plat[e].startX,x.plat[e].height,x.plat[e].endX-x.plat[e].startX,10),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath();for(let t=0;t<5;t++)s.strokeStyle="black",s.beginPath(),s.moveTo(x.plat[e].startX+10*t,x.plat[e].height),s.lineTo(x.plat[e].startX+10*t,x.plat[e].height+10),s.stroke(),s.closePath()}}(),function(){for(let e=0;e<h;e++)for(let t=0;t<h;t++)g.bullets[e].x-g.bullets[t].x<5&&g.bullets[e].x-g.bullets[t].x>0&&g.bullets[e].y-g.bullets[t].y<5&&g.bullets[e].y-g.bullets[t].y>0&&console.log("boing!")}(),function(){for(let e=0;e<i;e++)b.players[e].health<21?s.fillStyle="red":b.players[e].health<51?s.fillStyle="orange":s.fillStyle="#2aff00",s.beginPath(),s.rect(b.players[e].x-5,b.players[e].y-15,b.players[e].health/3.3,5),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath()}(),function(){for(let e=0;e<i;e++){s.beginPath(),s.fillStyle="red",e>0&&(s.fillStyle="yellow"),s.rect(b.players[e].x,b.players[e].y,b.players[e].width,b.players[e].height),s.fill(),s.strokeStyle="black",s.stroke(),s.closePath(),s.beginPath(),s.arc(b.players[e].x+5,b.players[e].y+5,2,0,2*Math.PI),s.stroke(),s.beginPath(),s.arc(b.players[e].x+15,b.players[e].y+5,2,0,2*Math.PI),s.stroke(),s.beginPath(),s.arc(b.players[e].x+10,b.players[e].y+9,1,0,2*Math.PI),s.stroke();let t=0;t=b.players[e].health<30?2*Math.PI:Math.PI,s.beginPath(),s.arc(b.players[e].x+10,b.players[e].y+15,3,0,t),s.stroke(),b.players[e].facingLeft||(s.beginPath(),s.moveTo(b.players[e].x+20,b.players[e].y+15),s.lineTo(b.players[e].x+20,b.players[e].y+20),s.lineTo(b.players[e].x+25,b.players[e].y+15),s.lineTo(b.players[e].x+30,b.players[e].y+15),s.lineTo(b.players[e].x+20,b.players[e].y+15),s.stroke()),b.players[e].facingLeft&&(s.beginPath(),s.moveTo(b.players[e].x-20+20,b.players[e].y+15),s.lineTo(b.players[e].x-20+20,b.players[e].y+20),s.lineTo(b.players[e].x-25+20,b.players[e].y+15),s.lineTo(b.players[e].x-30+20,b.players[e].y+15),s.lineTo(b.players[e].x-20+20,b.players[e].y+15),s.stroke())}}(),function(){for(let e=0;e<i;e++)for(let e=0;e<h;e++)s.beginPath(),s.arc(g.bullets[e].x,g.bullets[e].y,c,0,2*Math.PI),s.fillStyle="#0095DD",s.fill(),s.strokeStyle="black",s.stroke(),s.closePath()}(),function(){for(let e=0;e<h;e++)for(let t=0;t<i;t++)g.bullets[e].x-b.players[t].x<5&&g.bullets[e].x-b.players[t].x>0&&g.bullets[e].y-b.players[t].y<40&&g.bullets[e].y-b.players[t].y>0&&(g.bullets[e].y=g.bullets[e].y+1e3,b.players[t].health-=10,console.log("Player "+t+" Hit, Current Health: "+b.players[t].health))}(),function(){for(let e=0;e<h;e++)g.bullets[e].x+=g.bullets[e].dx}(),function(){let e=new Image;e.src="./assets/boss.png",s.drawImage(e,v.bossX+5*+Math.random(),v.bossY+5*+Math.random())}(),v.bossX>u?(v.state="left",console.log("Boss status: Moving:",v.state)):v.bossX<50&&(v.state="right",console.log("Boss status: Moving:",v.state)),"left"==v.state?(v.bossX*=.99,v.bossY*=.99):"right"==v.state&&(v.bossY*=1.01,v.bossX*=1.01),window.requestAnimationFrame(e)}()}]);